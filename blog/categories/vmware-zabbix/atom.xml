<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: VMware,Zabbix | G1BS.0N]]></title>
  <link href="http://taishin.github.com/blog/categories/vmware-zabbix/atom.xml" rel="self"/>
  <link href="http://taishin.github.com/"/>
  <updated>2013-03-14T23:31:00+09:00</updated>
  <id>http://taishin.github.com/</id>
  <author>
    <name><![CDATA[taishin]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Zabbix2.0でESXiのVMごとに監視してみる(自動登録編)]]></title>
    <link href="http://taishin.github.com/blog/2013/02/09/zabbixde/"/>
    <updated>2013-02-09T22:01:00+09:00</updated>
    <id>http://taishin.github.com/blog/2013/02/09/zabbixde</id>
    <content type="html"><![CDATA[<p><a href="http://taishin.github.com/blog/2012/11/11/zabbixde/">前回</a>のやつは、データは自動で取ってくるけど、Zabbixへのホスト登録は手動でやらないといけなかったので、いまいちでした。なので、ZabbixのAPIを使って、自動登録するように変更しました。また、1日データが取得できなかったら、Zabbixから削除するようにしました。</p>

<p>あと、登録したホストをマップに展開してホストスクリーンで各VMのステータスが確認できるようにしてみました。</p>

<p><img src="http://taishin.github.com/images/zabbix-map.png" width="500"  alt="Zabbix Map">
<img src="http://taishin.github.com/images/zabbix-hostscreen.png" width="500" alt="Zabbix HostScreen"></p>

<p>コードはこんな感じです。
{% gist 4054887 %}</p>

<p>登録方法とかは<a href="http://taishin.github.com/blog/2012/11/11/zabbixde/">前回</a>と同じです。
ZabbixのURLを引数にしたので、vCenter登録時のマクロに</p>

<pre>
  - {$ZBX_URL} ： http://xx.xx.xx.xx/zabbix
</pre>


<p>を追加してください。</p>
]]></content>
  </entry>
  
</feed>
